<!-- 
    EX_Check_02.
    Visual Studio Code v1.56.0
    21.5.14. 
    A반 kopo20 안규원
 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>EX_Check_02</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    function test() {

      if (!$('input:checkbox[name=checkAll]').is(':checked')) {
        $('input:checkbox[name=check]').each(function () {
          // $(this).prop('checked', true);
          if (this.checked) {
            this.checked = false;
          } else if (!this.checked) {
            this.checked = false;
          }
        })
      } else if ($('input:checkbox[name=checkAll]').is(':checked')) {
        $('input:checkbox[name=check]').each(function () {
          // $(this).prop('checked', true);
          if (this.checked) {
            this.checked = true;
          } else if (!this.checked) {
            this.checked = true;
          }
        })
      }
    }

    function showChecked() {
      let result = document.getElementById('result');
      var str = '';

      if ($('input:checkbox[name=check]:checked').length == 0) {
        alert('선택사항이 없습니다.')
        result.innerHTML = str;
      } else {
        $('input:checkbox[name=check]').each(function (i, e) {
          var num = i + 1;

          if ($(this).is(':checked')) {
            let title = document.getElementById(num).innerText;
            str += '<div>';
            str += title;
            str += '</div>';
          }
        })

        result.innerHTML = str;
      }
    }
  </script>
  <style>
    table {
      border-collapse: collapse;
    }

    td,
    th {
      border: 1px solid black;
    }
  </style>

</head>

<body>
  <form>
    <table>
      <tr>
        <th><input type="checkbox" name="checkAll" id="" onclick="test()">확인</th>
        <th>제목</th>
        <th>글쓴시간</th>
      </tr>
      <tr>
        <td><input type="checkbox" name="check" id=""></td>
        <td id="1">11112121</td>
        <td>21.05.14 15:46</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="check" id=""></td>
        <td id="2">313131313</td>
        <td>21.05.14 15:46</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="check" id=""></td>
        <td id="3">2121212</td>
        <td>21.05.14 15:46</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="check" id=""></td>
        <td id="4">45454545</td>
        <td>21.05.14 15:46</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="check" id=""></td>
        <td id="5">65656</td>
        <td>21.05.14 15:46</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="check" id=""></td>
        <td id="6">7878797jk</td>
        <td>21.05.14 15:46</td>
      </tr>
    </table>
    <input type="button" value="show checked" onclick="showChecked()">
    <div id="result">

    </div>

</body>

</html>